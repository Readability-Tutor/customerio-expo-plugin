{"version":3,"names":["withAppDelegate","CIO_OVERRIDE_REMOTE_NOTIFICATION_SNIPPET","CIO_APP_PUSH_NOTIFICATIONS_HANDLER_SNIPPET","CIO_INITIALIZE_SDK_SNIPPET","CIO_APP_PUSH_NOTIFICATIONS_HANDLER_REGEX","CIO_INITIALIZE_SDK_REGEX","CIO_OVERRIDE_REMOTE_NOTIFICATION_REGEX","injectCodeByMultiLineRegex","injectCodeBeforeMultiLineRegex","withAppDelegateSwiftModifications","configOuter","_","config","stringContents","modResults","contents","regex","RegExp","match","console","log"],"sources":["withAppDelegateSwiftModifications.js"],"sourcesContent":["import { withAppDelegate } from '@expo/config-plugins';\nimport { CIO_OVERRIDE_REMOTE_NOTIFICATION_SNIPPET, CIO_APP_PUSH_NOTIFICATIONS_HANDLER_SNIPPET, CIO_INITIALIZE_SDK_SNIPPET, CIO_APP_PUSH_NOTIFICATIONS_HANDLER_REGEX, CIO_INITIALIZE_SDK_REGEX, CIO_OVERRIDE_REMOTE_NOTIFICATION_REGEX, } from '../helpers/constants/ios';\nimport { injectCodeByMultiLineRegex, injectCodeBeforeMultiLineRegex, } from '../helpers/utils/codeInjection';\nexport const withAppDelegateSwiftModifications = (configOuter, _) => {\n    return withAppDelegate(configOuter, async (config) => {\n        let stringContents = config.modResults.contents;\n        const regex = new RegExp(CIO_APP_PUSH_NOTIFICATIONS_HANDLER_SNIPPET);\n        const match = stringContents.match(regex);\n        if (!match) {\n            stringContents = injectCodeByMultiLineRegex(stringContents, CIO_APP_PUSH_NOTIFICATIONS_HANDLER_REGEX, CIO_APP_PUSH_NOTIFICATIONS_HANDLER_SNIPPET);\n            stringContents = injectCodeByMultiLineRegex(stringContents, CIO_INITIALIZE_SDK_REGEX, CIO_INITIALIZE_SDK_SNIPPET);\n            stringContents = injectCodeBeforeMultiLineRegex(stringContents, CIO_OVERRIDE_REMOTE_NOTIFICATION_REGEX, CIO_OVERRIDE_REMOTE_NOTIFICATION_SNIPPET);\n            config.modResults.contents = stringContents;\n        }\n        else {\n            console.log('Customerio AppDelegate changes already exist. Skipping...');\n        }\n        return config;\n    });\n};\n"],"mappings":"AAAA,SAASA,eAAe,QAAQ,sBAAsB;AACtD,SAASC,wCAAwC,EAAEC,0CAA0C,EAAEC,0BAA0B,EAAEC,wCAAwC,EAAEC,wBAAwB,EAAEC,sCAAsC,QAAS,0BAA0B;AACxQ,SAASC,0BAA0B,EAAEC,8BAA8B,QAAS,gCAAgC;AAC5G,OAAO,MAAMC,iCAAiC,GAAGA,CAACC,WAAW,EAAEC,CAAC,KAAK;EACjE,OAAOX,eAAe,CAACU,WAAW,EAAE,MAAOE,MAAM,IAAK;IAClD,IAAIC,cAAc,GAAGD,MAAM,CAACE,UAAU,CAACC,QAAQ;IAC/C,MAAMC,KAAK,GAAG,IAAIC,MAAM,CAACf,0CAA0C,CAAC;IACpE,MAAMgB,KAAK,GAAGL,cAAc,CAACK,KAAK,CAACF,KAAK,CAAC;IACzC,IAAI,CAACE,KAAK,EAAE;MACRL,cAAc,GAAGN,0BAA0B,CAACM,cAAc,EAAET,wCAAwC,EAAEF,0CAA0C,CAAC;MACjJW,cAAc,GAAGN,0BAA0B,CAACM,cAAc,EAAER,wBAAwB,EAAEF,0BAA0B,CAAC;MACjHU,cAAc,GAAGL,8BAA8B,CAACK,cAAc,EAAEP,sCAAsC,EAAEL,wCAAwC,CAAC;MACjJW,MAAM,CAACE,UAAU,CAACC,QAAQ,GAAGF,cAAc;IAC/C,CAAC,MACI;MACDM,OAAO,CAACC,GAAG,CAAC,2DAA2D,CAAC;IAC5E;IACA,OAAOR,MAAM;EACjB,CAAC,CAAC;AACN,CAAC","ignoreList":[]}