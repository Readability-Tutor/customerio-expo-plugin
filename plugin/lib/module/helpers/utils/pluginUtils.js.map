{"version":3,"names":["fs","path","getPluginVersion","packageJsonPath","resolve","__dirname","existsSync","Error","packageJson","JSON","parse","readFileSync","version"],"sources":["pluginUtils.ts"],"sourcesContent":["import fs from 'fs';\nimport path from 'path';\n\n/**\n * Reads the version of the plugin from its `package.json` and returns it as a string.\n */\nexport const getPluginVersion = (): string => {\n  // Always resolves relative to the utility file's location\n  const packageJsonPath = path.resolve(__dirname, '../../../../../package.json');\n\n  if (!fs.existsSync(packageJsonPath)) {\n    throw new Error(`package.json not found at ${packageJsonPath}`);\n  }\n\n  const packageJson = JSON.parse(fs.readFileSync(packageJsonPath, 'utf8'));\n\n  if (!packageJson.version) {\n    throw new Error(`\"version\" field is missing in ${packageJsonPath}`);\n  }\n\n  return packageJson.version;\n};\n"],"mappings":"AAAA,OAAOA,EAAE,MAAM,IAAI;AACnB,OAAOC,IAAI,MAAM,MAAM;;AAEvB;AACA;AACA;AACA,OAAO,MAAMC,gBAAgB,GAAGA,CAAA,KAAc;EAC5C;EACA,MAAMC,eAAe,GAAGF,IAAI,CAACG,OAAO,CAACC,SAAS,EAAE,6BAA6B,CAAC;EAE9E,IAAI,CAACL,EAAE,CAACM,UAAU,CAACH,eAAe,CAAC,EAAE;IACnC,MAAM,IAAII,KAAK,CAAC,6BAA6BJ,eAAe,EAAE,CAAC;EACjE;EAEA,MAAMK,WAAW,GAAGC,IAAI,CAACC,KAAK,CAACV,EAAE,CAACW,YAAY,CAACR,eAAe,EAAE,MAAM,CAAC,CAAC;EAExE,IAAI,CAACK,WAAW,CAACI,OAAO,EAAE;IACxB,MAAM,IAAIL,KAAK,CAAC,iCAAiCJ,eAAe,EAAE,CAAC;EACrE;EAEA,OAAOK,WAAW,CAACI,OAAO;AAC5B,CAAC","ignoreList":[]}