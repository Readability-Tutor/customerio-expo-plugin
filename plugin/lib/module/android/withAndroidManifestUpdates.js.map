{"version":3,"names":["withAndroidManifest","withAndroidManifestUpdates","configOuter","props","application","modResults","manifest","customerIOMessagingpush","hasService","some","service","push","action","$","console","log"],"sources":["withAndroidManifestUpdates.js"],"sourcesContent":["import { withAndroidManifest } from '@expo/config-plugins';\nexport const withAndroidManifestUpdates = (configOuter) => {\n    return withAndroidManifest(configOuter, (props) => {\n        const application = props.modResults.manifest\n            .application;\n        const customerIOMessagingpush = 'io.customer.messagingpush.CustomerIOFirebaseMessagingService';\n        if (!application[0]['service']) {\n            application[0]['service'] = [];\n        }\n        const hasService = application[0]['service'].some((service) => service['$']['android:name'] === customerIOMessagingpush);\n        if (!hasService) {\n            application[0]['service'].push({\n                '$': {\n                    'android:name': customerIOMessagingpush,\n                    'android:exported': 'false',\n                },\n                'intent-filter': [\n                    {\n                        action: [\n                            {\n                                $: {\n                                    'android:name': 'com.google.firebase.MESSAGING_EVENT',\n                                },\n                            },\n                        ],\n                    },\n                ],\n            });\n            console.log('Successfully set CustomerIO push handler as priority in AndroidManifest.xml');\n        }\n        props.modResults.manifest.application = application;\n        return props;\n    });\n};\n"],"mappings":"AAAA,SAASA,mBAAmB,QAAQ,sBAAsB;AAC1D,OAAO,MAAMC,0BAA0B,GAAIC,WAAW,IAAK;EACvD,OAAOF,mBAAmB,CAACE,WAAW,EAAGC,KAAK,IAAK;IAC/C,MAAMC,WAAW,GAAGD,KAAK,CAACE,UAAU,CAACC,QAAQ,CACxCF,WAAW;IAChB,MAAMG,uBAAuB,GAAG,8DAA8D;IAC9F,IAAI,CAACH,WAAW,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,EAAE;MAC5BA,WAAW,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE;IAClC;IACA,MAAMI,UAAU,GAAGJ,WAAW,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAACK,IAAI,CAAEC,OAAO,IAAKA,OAAO,CAAC,GAAG,CAAC,CAAC,cAAc,CAAC,KAAKH,uBAAuB,CAAC;IACxH,IAAI,CAACC,UAAU,EAAE;MACbJ,WAAW,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAACO,IAAI,CAAC;QAC3B,GAAG,EAAE;UACD,cAAc,EAAEJ,uBAAuB;UACvC,kBAAkB,EAAE;QACxB,CAAC;QACD,eAAe,EAAE,CACb;UACIK,MAAM,EAAE,CACJ;YACIC,CAAC,EAAE;cACC,cAAc,EAAE;YACpB;UACJ,CAAC;QAET,CAAC;MAET,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAAC,6EAA6E,CAAC;IAC9F;IACAZ,KAAK,CAACE,UAAU,CAACC,QAAQ,CAACF,WAAW,GAAGA,WAAW;IACnD,OAAOD,KAAK;EAChB,CAAC,CAAC;AACN,CAAC","ignoreList":[]}